{% extends 'base.html' %} {% block scripts %}
<script>
  $(function () {
    if ($(window).width() <= 500) {
      $(document).scroll(function () {
        var y = $(this).scrollTop();
        if (y > 100) {
          $("#alpha-bar").removeClass("mobile-hide");
          $("#alpha-bar").fadeIn();
        } else {
          $("#alpha-bar").fadeOut();
        }
      });
    }

    $("a.add-playlist-link").click(function (e) {
      e.preventDefault();
      setUserCookie();
      var user = Cookies.get("user");
      $.get(this.href + encodeURIComponent(user), function (data) {
        var obj = JSON.parse(data);
        if (obj.success) {
          // {# MSG: Notification when a playlist gets added to the queue.  The playlist name comes after this string. #}
          showNotification(
            "{{ _('Playlist added to the queue: ') }}" + obj.playlist,
            "is-success"
          );
        } else {
          // {# MSG: Notification when a playlist does not get added to the queue.  The playlist name comes after this string. #}
          showNotification(
            "{{ _('Error adding playlist to queue') }}" + obj.playlist,
            "is-danger"
          );
        }
      });
    });
  });
</script>

{% endblock %} {% block header %}
<h1>
  {% block title %} {{title}} {% endblock %}
</h1>
<style>
  #alpha-bar {
    padding: 5px 10px;
    border-radius: 4px;
    margin-bottom: 10px;
    position: sticky;
    display: flex;
    justify-content: space-between;
    top: 3px;
    z-index: 20;
  }
  @media screen and (max-width: 500px) {
    #alpha-bar {
      font-size: 13px;
      position: fixed;
      display: flex;
      align-items: center;
      right: 8px;
      top: 15px;
      flex-direction: column;
      max-width: 22px;
      height: 95vh;
    }
    .mobile-hide {
      visibility: hidden;
    }
  }
</style>
{% endblock %} {% block content %}

<p>
  {% if sort_order == "Alphabetical" %} {# MSG: Label which displays that the
  playlists are currently sorted by alphabetical order. #} {% trans %}Sorted
  Alphabetically{% endtrans %} |
  <a href="{{ url_for('playlists') }}?sort=date">
    {# MSG: Button which changes how the playlists are sorted so they become sorted
    by date. #} {% trans %}Sort by Date{% endtrans %}
  </a>
  {% endif %} {% if sort_order == "Date" %} {# MSG: Label which displays that
  the playlists are currently sorted by date. #} {% trans %}Sorted by date{%
  endtrans %} |
  <a href="{{ url_for('playlists') }}">
    {# MSG: Button which changes how the playlists are sorted so they become sorted
    by name. #} {% trans %}Sort by Alphabetical{% endtrans %}
  </a>
  {% endif %}
</p>

{{ pagination.links }} {{ pagination.info }}
<table>
  {% for playlist in playlists %}
  <tr value="{{ playlist }}">
    <td width="20px" style="padding: 5px 0px">
      {{loop.index + pagination.skip}}
    </td>
    <td
      id="{{filename_from_path(playlist)[0].lower()}}"
      width="20px"
      style="padding: 5px 0px 5px 4px"
    >
      <a
        class="add-playlist-link has-text-weight-bold has-text-success"
        title="Add '{{filename_from_path(playlist)}}' to queue"
        href="{{url_for('enqueue_playlist')}}?playlist={{url_escape(playlist.encode('utf-8','surrogateescape'))}}&user="
        ><i class="icon icon-list-add"></i>
      </a>
    </td>
    <td class="break-word">{{filename_from_path(playlist)}}</td>
    {% if admin %}
    <td width="20px">
      <a
        class="edit-button"
        href="{{url_for('edit_playlist')}}?playlist={{url_escape(playlist.encode('utf-8','surrogateescape'))}}"
        title="Edit playlist"
        ><i class="icon icon-edit-1"></i>
      </a>
    </td>
    {% endif %} {% endfor %}
  </tr>
</table>

{{ pagination.links }} {% endblock %}
